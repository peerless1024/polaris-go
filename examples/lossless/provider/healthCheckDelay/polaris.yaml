global:
  serverConnector:
    addresses:
      - ${POLARIS_SERVER}:8091
    token: ${POLARIS_TOKEN}
  eventReporter:
    enable: true
    chain:
      - pushgateway
# 被调方配置
provider:
  # 无损上下线配置
  lossless:
    # 是否启用无损上下线
    enable: true
    # 无损上下线插件类型
    type: composite
    # 无损上线延迟注册策略
    # 类型:string
    # 范围:时长延迟(DELAY_BY_TIME), 探测延迟(DELAY_BY_HEALTH_CHECK)
    # 默认值:DELAY_BY_TIME
    strategy: DELAY_BY_HEALTH_CHECK
    # 时长延迟注册的等待时间, 兜底延迟多久会进行上线
    delayRegisterInterval: 10s
    # 探测延迟注册的探测周期, 默认5s
    healthCheckInterval: 5s
    plugin:
      # 无损上下线 composite 插件配置
      composite:
        # 探测延迟注册的探测协议
        healthCheckProtocol: "HTTP"
        # 探测延迟注册的探测方法
        healthCheckMethod: "GET"
        # 探测延迟注册的探测路径
        healthCheckPath: "/health"
        # 无损下线preStop插件的接口开关
        offlineProbeEnabled: false
        # 无损下线preStop插件的请求路径
        offlinePath: "/offline"
        # 无损上线就绪检查的接口开关
        readinessProbeEnabled: false
        # 无损上线就绪检查的请求路径
        readinessPath: "/readiness"